{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst apiKey = `52950914-a47a655b15acf3b435807e601`;\naxios.defaults.baseURL = 'https://pixabay.com/api/'; \n\nfunction getImagesByQuery(query) {\n    console.log(\"query\", query);\n    return axios.get(\"\", {\n        params : {\n            key: apiKey,\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n        }\n    })\n        .then(({ data }) => {\n            return data;\n        })\n        .catch((error) => { console.log(error) });\n};\n\nexport { getImagesByQuery };\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\"\nlet gallery_box = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n    enableKeyboard: true,\n    showCounter: true,\n    scrollZoom: true,\n    loop: true,\n    overlayOpacity: 0.9,\n    animationSpeed: 250\n});\nconst loader = document.querySelector('.loader');\nfunction showLoader() {\n    loader.classList.add('visible');\n};\nfunction hideLoader() {\n    loader.classList.remove('visible');\n}\n\nfunction clearGallery() {\n    const galleryContainer = document.querySelector('.gallery');\n    if (galleryContainer) galleryContainer.innerHTML = '';\n}\n\nfunction createGallery(images) {\n    return images.map(\n        ({ previewURL, largeImageURL, tags, likes, views, comments, downloads }) => \n            `<li class=\"gallery__item\">\n                <a class=\"gallery__link\" href=\"${largeImageURL}\">\n                    <img class=\"gallery__image\" src=\"${previewURL}\" alt=\"${tags}\" />\n                    <div class=\"info\">\n                        <p><b>Likes:</b> ${likes}</p>\n                        <p><b>Views:</b> ${views}</p>\n                        <p><b>Comments:</b> ${comments}</p>\n                        <p><b>Downloads:</b> ${downloads}</p>\n                    </div>\n                </a>\n            </li>`)\n    .join(\"\");\n}\n\nfunction renderGallery(images) {\n    const galleryContainer = document.querySelector('.gallery');\n    galleryContainer.innerHTML = createGallery(images);\n    // Оновлюємо SimpleLightbox після додавання нових зображень\n    gallery_box.refresh();\n}\n\nexport { createGallery, renderGallery, showLoader, hideLoader, clearGallery };","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport { renderGallery, showLoader, hideLoader, clearGallery } from './js/render-functions.js';\nconst form = document.querySelector('.form');\nconst gallery = document.querySelector('.gallery');\n\n\n\nform.addEventListener('submit', onFormSubmit);\nfunction onFormSubmit(event) {\n    event.preventDefault();\n    const query = event.currentTarget.elements[\"search-text\"].value.trim();\n    \n    if (!query) {\n        iziToast.error({\n            title: 'Error',\n            message: 'Please enter a search query!',\n        });\n        return;\n    }\n    \n    // Очищаємо галерею через інкапсульовану функцію\n    clearGallery();\n    showLoader(); \n    \n    getImagesByQuery(query)\n        .then(data => {\n            if (data.hits.length === 0) {\n                    return iziToast.error({\n                    title: 'Error',\n                    message: 'Sorry, there are no images matching your search query. Please try again!',\n                });     \n            } else { \n                renderGallery(data.hits);\n               \n            }\n        })\n        .catch(error => console.log(error))\n        .finally(() => {\n            hideLoader(); \n        });\n}"],"names":["apiKey","axios","getImagesByQuery","query","data","error","gallery_box","SimpleLightbox","loader","showLoader","hideLoader","clearGallery","galleryContainer","createGallery","images","previewURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","form","onFormSubmit","event","iziToast"],"mappings":"owBAEA,MAAMA,EAAS,qCACfC,EAAM,SAAS,QAAU,2BAEzB,SAASC,EAAiBC,EAAO,CAC7B,eAAQ,IAAI,QAASA,CAAK,EACnBF,EAAM,IAAI,GAAI,CACjB,OAAS,CACL,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EACf,CACT,CAAK,EACI,KAAK,CAAC,CAAE,KAAAC,KACEA,CACV,EACA,MAAOC,GAAU,CAAE,QAAQ,IAAIA,CAAK,CAAC,CAAE,CAChD,CClBA,IAAIC,EAAc,IAAIC,EAAe,aAAc,CAC/C,aAAc,IACd,eAAgB,GAChB,YAAa,GACb,WAAY,GACZ,KAAM,GACN,eAAgB,GAChB,eAAgB,GACpB,CAAC,EACD,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/C,SAASC,GAAa,CAClBD,EAAO,UAAU,IAAI,SAAS,CAClC,CACA,SAASE,GAAa,CAClBF,EAAO,UAAU,OAAO,SAAS,CACrC,CAEA,SAASG,GAAe,CACpB,MAAMC,EAAmB,SAAS,cAAc,UAAU,EACtDA,IAAkBA,EAAiB,UAAY,GACvD,CAEA,SAASC,EAAcC,EAAQ,CAC3B,OAAOA,EAAO,IACV,CAAC,CAAE,WAAAC,EAAY,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAW,IACnE;AAAA,iDACqCL,CAAa;AAAA,uDACPD,CAAU,UAAUE,CAAI;AAAA;AAAA,2CAEpCC,CAAK;AAAA,2CACLC,CAAK;AAAA,8CACFC,CAAQ;AAAA,+CACPC,CAAS;AAAA;AAAA;AAAA,kBAGtC,EACb,KAAK,EAAE,CACZ,CAEA,SAASC,EAAcR,EAAQ,CAC3B,MAAMF,EAAmB,SAAS,cAAc,UAAU,EAC1DA,EAAiB,UAAYC,EAAcC,CAAM,EAEjDR,EAAY,QAAO,CACvB,CCvCA,MAAMiB,EAAO,SAAS,cAAc,OAAO,EAC3B,SAAS,cAAc,UAAU,EAIjDA,EAAK,iBAAiB,SAAUC,CAAY,EAC5C,SAASA,EAAaC,EAAO,CACzBA,EAAM,eAAc,EACpB,MAAMtB,EAAQsB,EAAM,cAAc,SAAS,aAAa,EAAE,MAAM,OAEhE,GAAI,CAACtB,EAAO,CACRuB,EAAS,MAAM,CACX,MAAO,QACP,QAAS,8BACrB,CAAS,EACD,MACH,CAGDf,IACAF,IAEAP,EAAiBC,CAAK,EACjB,KAAKC,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EACjB,OAAOsB,EAAS,MAAM,CACtB,MAAO,QACP,QAAS,0EAC7B,CAAiB,EAEDJ,EAAclB,EAAK,IAAI,CAGvC,CAAS,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CACXK,GACZ,CAAS,CACT"}